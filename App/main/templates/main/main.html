{% extends 'base.html' %} {% block title %} <title>Login</title> {% endblock %}
{% block content %}

<div
  class="w3-content"
  style="margin-top:20px;margin-left:300px;max-width:1400px;height:500px"
>

  <!--event title-->
<header class="w3-content w3-display-container w3-center w3-border-bottom w3-white" style="margin-top:70px;max-width:1500px;height:600px">

  <div class="w3-col" style="width:50%">
    <div class="container w3-container">
    <div class="w3-row">
        <style>
            form {
              position: absolute;
              top: 50%;
              width: 500px;
              height: 200px;
              border: 4px dashed #010103;
            }
          </style>
      <form
        id="upload"
        class="w3-display-middle"
        method="post"
        action="{{ url_for('main.send_files') }}"
        enctype="multipart/form-data"
      >
        <div class="file-field">
          <input
            onchange="onChange(this)"
            id="image"
            type="file"
            name="file"
            style="position: absolute;
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            outline: none;
            opacity: 0;"
          />
          <p id="description" class="mt-5 ml-5 mr-5">
            Drag your files here or click in this area.
          </p>
        </div>
      </form>
    </div>
    
  <div class="w3-col w3-display-container" style="width:40%">
      <div class="w3-center w3-content" style=" margin-top:200px">
          <div class="w3-row ml-5" style="margin-top:61%;">
              <div class="w3-container" style="margin-left:280px;z-index:10">
                <button
                  class="btn btn-danger"
                  type="submit"
                  form="upload"
                  value="submit"
                >
                  Upload Files
                </button>
        
                <button
                  type="button"
                  class="btn btn-primary"
                  data-toggle="modal"
                  data-target="#exampleModal"
                >
                  show you image
                </button>
              </div>
            </div>  
        <br><br><br><br>
         
      </div>
  </div>
</header>
<!--end of the event title-->
  

  <!-- Modal -->
  <div
    class="modal fade"
    id="exampleModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
        <div class="modal-header">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
              Close
            </button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
      <div class="modal-content" style="height:500px" width="400px"
      height="400px" >
        <img
          id="blah"
          class="w3-display-middle"
          src="#"
          alt="your image"
          style="display: none;"
          width="400px"
          height="400px"
        />
      </div>
    </div>
  </div>

  <!-- end of drop box -->
</div>

<script>
  function onChange(evt) {
    var str = evt.files;
    console.log(str);
    var p = document.getElementById("description");
    p.textContent = str[0].name;

    if (str && str[0]) {
      var reader = new FileReader();

      reader.onload = function(e) {
        $("#blah").attr("src", e.target.result);
        $("#blah").css("display", "block");
      };

      reader.readAsDataURL(str[0]);
    }
  }
</script>
{% endblock %}
